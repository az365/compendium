# Архитектура 

## System architecture

### Basics 
- [roadmap.sh: Software Architect](https://roadmap.sh/software-architect)
- [roadmap.sh: Software Design and Architecture](https://roadmap.sh/software-design-architecture)
- `video` [Gaurav Sen: System Design Basics: Horizontal vs. Vertical Scaling](https://www.youtube.com/watch?v=xpDnVSmNFX0&list=PLMCXHnjXnTnvo6alSjVkgxV-VH6EPyvoX&index=2)
  - vertical vs horizontal scaling
    - vertical: buy bigger machine
    - horizontal: buy more machines
    - props and cons 
      - load balancer vs n/a 
      - resilient vs single point of failure
      - network cable (RPC) vs inter process communications
      - data may be inconsistent vs consistency
      - scales well vs hardware limit
  - load balancing
    - consistent hashing
  - message queue
    - like pizza shop
    - database
    - notifier
  - microservices
    - microservices vs monoliths
  - database sharding - horizontal partitioning
  - distributed caching (w Redis)
    - goals / use cases / scenarios 
      - reduce network calls
      - avoid recomputions
      - reduce db load 
    - caching policy
      - LRU (last recently used)
      - sliding window based policy (Google caffeine)
    - Redis - cache for DB
    - types
      - write through 
      - write back
  - api designing
    - what, params -> resutl, errors 
      - naming 
      - parameters
      - response object designing
  - how to avoid single points of failure
    - more nodes
    - master/slave
    - multiple regions 
  - [sql](./dev.md#sql) vs [nosql](#nosql)
    - cassandra - key/value
      - load balancing
      - redundance/replication
      - ...

<a name="api"></a>
### APIs 
- API Gateway https://www.youtube.com/watch?v=vHQqQBYJtLI
  - features
    - 1 separate out cross cutting concerns
      - authentication
      - authorization
      - ssl termination
      - DDoS protection / throttling
    - 2 separate and colsolidate cross cutting concerns across microservices
      - authentication
      - authorization
      - ssl termination
      - DDoS protection / throttling
      - routing
    - 3 replacing multiple client calls with single API
      - also some features of reverse proxy
        - serving static content
        - caching responses
    - 4 routing based on headers, paths and params etc
      - also some features of load balancer component
        - load balancing
        - AB-testing
        - canary releases
  - examples
    - self managed
      - apache
      - HAProxy
      - HGINX
      - Spring cloud gateway
    - cloud services
      - AWS API Gateway
      - Azure API Gateway
      - Google cloud endpoints
      - Apigee
- API management in Digital transformations - https://www.youtube.com/watch?v=71VR84MtT-o
  - API management
    - Applications
    - API endpoints
      - security
      - onboarding
      - transform
      - caching
      - analytics
      - quotas
    - Business logic
    - Data layer
  - Key components of API management platform
    - API gateway
      - security
      - performance
      - transformation
      - lifecycle management
      - caching
    - API portal
      - documentation
      - onboardings
      - packaging
      - analytics
      - monetization
    - Data layer
      - Data Backend as a Service (DBaaS)
  - exemple: API strategy for an e-commerce
    - b2b & b2c API program (100k users)
    - 20 public & 100 internal APIs
    - automatic key generation
    - 500 API calls/day per user
    - XML, JSON support
    - create app ecosystem around product & inventory data

### Examples
- netflix
  - scenes/chunks
  - converting
  - caching on isp
- tinder
  - sotre profiles
    - photos: blob (vs file)
      - mutability
      - transaction garanties (ACID)
        - atomicity
        - consistency
        - isolation
        - mutability
      - indexes (search)
      - access control
  - recommend matches
    - cassandra/dynamo - for profiles and recommendations
  - note matches
  - direct messaging
    - XMPP (eXtensible Messaging and Presence Protocol) = Jabber
    - TCP (Transmission Control Protocol) 
    - web socket connection (API Web Sockets ещё стандартизируется)
      - для обмена между браузером и веб-сервисом в реальном времени
      - поверх TCP
- whatsapp
  - features
    - group messaging
    - sent + delivered + read receipts
    - online / last seen 
    - image sharing 
    - chats are temporary/persistent
  - components
    - gatewaw(s)
    - sessions microservice 
    - logical sockets
    - auth service
    - group services
    - threads
    - apache/facebook thrift - framework for RPC 
    - consistent hashing
      - retrial - ...
      - imdempotency - свойство давать тот же результат при повторном применении к объекту
      - ordering
    - deprioritize messages 
- instagram
  - ...

<a name="cloud"></a>
### Cloud apps 
- cloud native concept
  - `site` [CNCF Cloud Native Interactive Landscape](https://landscape.cncf.io/)		
- cloud platforms
  - Amazon AWS
    - `doc` [AWS: Getting Started](https://aws.amazon.com/ru/getting-started)
    - AWS spot option
      - `doc` [Overview of Spot mechanism](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances.html)
      - `guide` [Spot Setup Guide](http://www.datasciencebowl.com/aws_guide/)
  - Google Cloud Platform
    - Anthos = бывший Cloud Services Platform
      - главное
        - GKE On-Perm - локальная оркестрация контейнеров инфраструктуры
        - Istio - менеджмент микросервисов 
        - GCP - облачные возможности 
      - built on
        - kubernetes - управление контейнеризируемыми приложениями (нода/под/том/контейнер)
        - istio - решает сложности микросервисов: управление трафиком, безопасность, наблюдаемость
        - knative - Kubernetes-based platform to build, deploy, and manage modern serverless workloads
      - anthos platform
        - application operation
          - ci/cd 
          - serverless 
          - marketplace 
          - api management 
          - observability & diagnostics 
        - network and security operation 
          - policy & config management 
          - identity management 
          - service discovery & management 
          - secure software supply chain 
          - zero trust network security 
          - secure multitenancy 
        - platform operation
          - managed kubernetes
          - centralized management
          - network
          - storage management
          - migration
          - monitoring 
        - infrastructure
          - on-permises
          - public cloud 
      - core components
        - running anthos on-premises 
        - google kubernetes engine 
        - anthos config management 
        - istio on GKE 
        - kubernetes applications on GCP marketplace
        - cloud run for anthos 
        - migrate for anthos 
      - integrated services
        - stackdriver
        - apigee
        - continuous integration 
        - continuous delivery
        - google cloud hybrid connectivity 
        - cloud identity-aware proxy 
  - MS Azure
  - Yandex Cloud

<a name="dev"></a>
## Software engineering

<a name="paradigm"></a>
### Парадигмы
- императивная парадигма - последовательное выполнение инструкций
- декларативная парадигма - описывается ожидаемый результат, а не способ его получения
- структурная парадигма - иерархическая структура блоков (последовательность, ветвление, цикл)
- функциональная парадигма - вычисление значений функций в их математическом понимании
- объектно-ориентированная парадигма - абстрация, инкапсуляция, наследование, полиморфизм

<a name="pattern"></a>
### Паттерны проектирования
- зачем: для описания API и соглашений между компонентами
- классификация паттернов
  - fundamental
    - delegation
    - functional design - каждый модуль имеет 1 обязанность, минимизация побочных эффектов
    - immutable interface
    - interface
    - marker interface 
    - property container
    - event channel 
  - creational
    - astract factory
    - builder
    - factory method 
    - lazy initialization
    - multiton 
    - singleton
    - prorotype 
    - RAII (resource acquisition is initialization) 
  - structural
    - adapter/wrapper 
    - bridge 
    - composite 
    - decorator - расширение функциональность без наследования 
    - facade - абстрагирует несколько объектов как один 
    - front controller - единая точка входа 
    - flyweight - приспособленец, прикидывается уникальным экземпляром
    - proxy
  - behavioral 
    - chain of responsibility
    - command
    - interpreter 
    - iterator 
    - mediator - посредник
    - memento - хранитель, сохраняет состояние объекта, чтобы потом восстановить
    - null object - объект по умолчанию
    - observer (listener) = publish/subscribe
    - servant - слуга, общая функциональность группы классов 
    - specification - связывание бизнес-логики 
    - state - когда объект меняет поведение в зависимости от состояния
    - strategy - семейство взаимозаменяемых инкапсулированных алгоритмов 
    - template method - основа алгоритма, шаги переопределяются наследниками
    - visitor 
  - concurrancy
    - active object - отделение потока выполнения метода от потока, в котором он был вызван 
    - balking - действие выполняется над объектом только, когда он в корректном сосоянии
    - binding properties - несколько наблюдателей синхронизируют свойства разных объектов 
    - MDP (messaging design pattern)
    - double-checked locking
    - event-based asynchronous 
    - guarded suspension
    - half-sync/half-async 
    - leaders/followers 
    - lock 
    - monitor object - для безопасного использования несколькими потоками 
    - reactor - синхронная передача запросов к сервису от нескольких источников 
    - read-write lock 
    - sheduler 
    - thread pool 
    - thread-specific storage - разные глобальные переменные для разных потоков 
    - single thread execution 
    - cooperative pattern - безопасная остановка потоков общим флагом 
  - architectural

<a name="level"></a>
### Уровни протоколов/архитектур
- архитектура предприятия 
  - `post` [А.Радзишевский @ Habr - Архитектура ИТ решений. Часть 1. Архитектура предприятия](https://habr.com/ru/post/347204/)
    - 1 EIA - Enterprise Information Architecture
    - 2 ESA - Enterprise Solution Architecture
    - 3 ETA - Enterprise Technical Architecture
    - 4 EBA - Enterprise Business Architecture
- архитектуры
  - CORBA - Common Object Request Broker Architecture
  - ...
- технологии API
  - SOAP - Simple Object Access Protocol
    - изначально делался для удалённого вызова процедур (RPC)
    - сейчас используется для обмена произвольными XML-сообщениями
  - RPC - Simple Object Access Protocol
    - включает 2 компонента
      - сетевой протокол
      - язык сериализации объектов/структур
  - REST - Representational State Transfer
    - архитектурный стиль, а не протокол
    - альтернатива RPC
    - условия/ограничения
      - модель клиент/сервер
      - отсутствие состояния
      - кэширование
      - единообразие интерфейса
      - слои
      - код по требованию
- протокол прикладного уровня
  - HTTP - HyperText Transfer Protocol
  - FTP
  - SMTP
- транспортный
  - TCP - Transmission Control Protocol
  - UDP - User Datagram Protocol

<a name="tools"></a>
### Инструменты архитектора
- ArchiMate
- SAP (Sybase) PowerDesigner
  - средство UML-поектирования
  - есть 30-дневный trial https://www.sap.com/products/powerdesigner-data-modeling-tools.html
  - Sybase PowerDesigner — одно из лучших средств UML проектирования https://habr.com/ru/post/15761/
    - нерекомендованные аналоги: Rational Rose, Visual Paradigm for UML, Umbrello UML Modeller, Poseidon for UML
- Enterprise Architect - CASE-инструмент
- нотации UML, BPMN

<a name="principles"></a><a name="culture"></a>
### Principles and culture 
- стремление к простоте
  - rich hickey - simple made easy
  - аналогия между adhoc-исключениями в научных теориях (когда они перестают объяснять факты) и костылями в коде (когда реализация новых требований перестаёт ложиться в архитектуру/дизайн технологии)

<a name="data"></a>
## Data

### Intro
- виды данных
  - неструктурированные 
    - текст, изображение, звук, видео
  - структурированные 
    - табличные 
    - объектные, графовые
- размеры данных
  - [большие данные](#big-data)
    - не помещаются на один компьютер
    - требуют распределённого хранения и обработки (на кластерах)
  - средние данные
    - помещаются на один диск/компьютер (могут обрабатываться локально)
    - не помещаются в память 1 компьютера (требуют хранения на диске)
    - требуют [БД](#db) или потоковой обработки 
  - малые данные 
    - помещаются в память 1 компьютера 
    - могут обрабатываться в Excel, BI (в режиме extract/import), [Pandas](#pandas) и т.д.
  - атомарные данные
    - затраты на хранение/обработку одной единицы пренебрежимо малы 
    - примеры: запись, сообщение, запрос объект, страница, метаданные 
- данные vs [знания](#knowledge)
  - data-mining - извлечение структурированной информации (данных) из неструктурированных
  - [data-analysis](./datan.md) - извлечение [знаний](#knowledge) из данных
  - decision making - принятие решений на основе [знаний](#knowledge)
- роль данных в бизнесе
  - data-inspired business
  - data-informed business
  - data-driven business

<a name="db"></a>
### Базы данных
- RDBMS/реляционные
  - нормальные формы
    - 1NF
    - 2NF
    - 3NF+
  - популярные СУБД 
    - PostgreSQL - свободная объектно-реляционная СУБД 
    - GreenPlum - распределённый PostgreSQL 
    - ClickHouse - не тормозит 
  - `wiki` [12 правил реляционных СУБД](https://ru.wikipedia.org/wiki/12_правил_Кодда)
  - `course` [Charles Russell Severance (University of Michigan) @ Coursera: Using Databases with Python](https://www.coursera.org/learn/python-databases)
  - `graph` [roadmap.sh: PostgreSQL DBA (2022)](https://roadmap.sh/postgresql-dba)
- аналитические
  - `post` [Habr: просто и доступно об аналитических БД](https://habr.com/ru/post/149641/)
  - Массово-параллельная архитектура: https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D1%81%D1%81%D0%BE%D0%B2%D0%BE-%D0%BF%D0%B0%D1%80%D0%B0%D0%BB%D0%BB%D0%B5%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0
  - ...
<a name="nosql"></a>
- NoSQL
  - MongoDB - документо-ориентированная СУБД с открытым кодом, не требующая описания схемы таблиц
    - использует JSON-подобные документы и схему базы данных
    - написана на C++
    - применяется в веб-разработке
  - [Hadoop](#hadoop) - технология/фреймворк/экосистема распределённых вычислений на кластерах из сотен и тысяч узлов
- БД для логов
  - ELK-stack
    - elasticsearch
      - хорошо сёрчит текст, плохо плотные представления 
        - чит/хак: транслировать плотные представления в текст
    - logstash
    - kibana
  - CH vs ELK https://habr.com/ru/company/ua-hosting/blog/483112
- схемы данных
  - логическах схема - модель БД, выраженная в терминах модели данных
    - 3 аспекта
      - аспект структуры: методы описания типов и логических структур данных в базе данных
      - аспект манипуляции: способы извлечения и модификации данных
      - аспект целостности: методы описания и поддержки целостности базы данных.
    - модели баз данных (каждый по-своему отвечает на эти 3 аспекта)
      - реляционная
      - иерархическая
      - ER-модель - entity-relationship model - описывает концептуальные схемы предметной области
      - объектная модель
  - физическая схема
    - описывает 
      - типы, идентификаторы и разрядность полей
      - размещение данных на машинных носителях, то есть, какой файл, какие объекты, с какими атрибутами содержит
    - Онлайн генератор схем баз данных https://habr.com/ru/post/111754/

### Data architecture
- архитектура хранилищ данных https://habr.com/ru/post/441538/
  - традиционная
    - Kimball vs Inmon
      - Kimball - сочетание витрин данных (снизу-вверх)
      - Inmon - нормализованная модель (сверху-вниз)
    - модели хранилищ данных
      - виртуальное - набор БД, которые можно использ. совместно
      - модель витрины данных
      - модель корпоративного хранилища
    - звезда vs снежинка
    - ETL vs ELT
    - организационная зрелость
      - DataSources : Warehouse : Users
      - DataSources : StagingArea : Warehouse : Users
      - DataSources : StagingArea : Warehouse : DataMarts : Users
  - облака
    - колоночные БД
      - Amazon Redshift
      - Google BigQuery
    - Panoply - самооптимизирующееся управление данными
- data lake https://www.youtube.com/watch?v=hsq4s_l9ZDMz
  - why datalake
    - increasing data volumes
    - workload complexity
    - productivity & agile development
    - time to value
    - data collaboration
  - best practices
    - focus on architecture of services and APIs
      - design of Data Lake should be driven by what is available rather what is required; the schema and data requirement are not defined until it is required
      - design should be guided by disposable components integrated through service APIs
      - data discovery & ingestion, storage & administration, quality & transformation and visualisation & interaction sould be managed independently
    - support of native data types and industry
      - architectural components, their interactions and identified products should naturally support native data types through the entire pipeline
      - the architecture must be tailored to specific industry, to ensure that capabilities standard and necessary for that domain are inherent part of the design
    - data servicing and governance
      - faster onboarding of newly discovered data sources is important
      - data profiling, data policies, lineage and security are properly enforced
      - usage monitoring, data tagging, data parsing, data correlation, data workflows are all important aspects of the Data Lake platform
    - search over data lake is crucial
      - ability to discover and find data elements being managed with the Lake
      - finding data insights via identification, unification and correlations across system is equally important
      - analytics and audit of this search is equally important to understand what are users looking for and how they are utilizing it
    - metadata management cannot be an after-thought
      - metadata cataloging should be a must to the design of Data Lake
      - Automation of metadata extraction, analyze, correlation and tracking
  - take away
    - know your sources
      - data first; schema later
      - discover and keep discovering for unknown
    - study them well
      - analyze them, understand their character, know their ingredients
      - correlate the properties with the source origin
      - determine how multiple sources interact and correlate with each other
    - improved analytics
      - relationship between various data sets
      - separate out technical and business types of attrubutes in individual data sets
    - measure and monitor
      - track the usage at consumption; based on what is consumed, not what was sourced
      - new data arrivals/removals/edits
      - how well you monitor, manage and administrate the process
    - do not overbuild
      - data lake is meant to be flexible; don't overburden
      - aim big but evolve gradually - both structre as well as storage
      - focus more on analytics and insights, relatively less on data quantum
- etl/elt and data management
  - https://www.youtube.com/channel/UCrR22MmDd5-cKP2jTVKpBcQ Intricity101
  - etl-инструменты, работающие с hadoop: Informatica, IBM Datastage, SAS и Pentaho Data Integration
  - NiFi умеет работать с HDFS, Hive, HBase, Solr, Cassandra, MongoDB, ElastcSearch, Kafka, RabbitMQ, Syslog, HTTPS, SFTP
  - другие ETL-средства: OWB, DTS/SSIS, DataStage, ODI/Sunopsis
- data modeling and design 
  - `doc` [PowerBI - Data modeling](powerbi.microsoft.com/ru-ru/what-is-data-modeling)
- data governance
  - `track` [DataFest2020: Data Governance](https://ods.ai/tracks/data-governance-df2020)
- кейсы
  - `post` [Тинькофф @ Habr: Data Lake от теории к практике. Сказ про то, как мы строим ETL на Hadoop](https://habrahabr.ru/company/tcsbank/blog/259173/)

<a name="bigdata"></a>
### Big Data
<a name="hadoop"></a>
- технология/фреймворк/экосистема распределённых вычислений на кластерах из сотен и тысяч узлов ([NoSQL](#nosql))
- hadoop-stack
  - main tools structure https://www.youtube.com/watch?v=OoEpfb6yga8
    - load
      - flume - log aggregation, загрузка данных из источников
      - sqoop - data transfer between HDFS and RDBMS
    - data platform
      - hcatalog
      - compute&storage nodes
      - ambari
    - output
      - interactive
        - hive/sql
      - batch
        - mapreduce
        - PIG - for ETL
      - online
        - hbase (i.e. Facebook messages)
        - zookeeper - coordination
    - additional tools
      - mahout - ML tools
      - ambari, ganglia, nagios
      - cascading
      - oozie
      - protobuf, avro, thrift - serialization libraries
      - ... 
  - distributives
    - hortonworks
    - cloudera CDH
      - HDFS
      - MapReduce
      - YARN - Yet Another Resource Negotiator - вместо(?) MR при переходе от Hadoop1 к Hadoop2
      - Zookeeper
      - Hbase
      - Hive
      - Oozie
      - Hue - GUI
      - Flume
      - Impala - SQL interface for DHFS and HBase
      - Sqoop
      - Solr
      - Keystore Indexer
    - MapR
- другие варианты кластеров для ml-задач
  - shared fs+GNU parallel+conda
  - hyperopt+MongoDB+Docker
- шедулинг задач по графам
  - apache airflow как планировщик etl-процессов (DAGs)
  - luigi
  - uber michelangelo - ml-фреймворк
  - rapid miner
  - yandex nirvana 
- литература
  - `course` [coursera: big data for engineers](https://www.coursera.org/specializations/big-data-engineering) (5c*6w*8h)
  - `post` [Habr: hadoop + cloudera + ...](https://habrahabr.ru/post/151062/)

## Knowledge
### Intro
- определение (согласно `wiki`)
  - осведомленность или понимание кого и чего угодно
  - которое можно логически или фактически обосновать
  - эмпирически или практически проверить
- действия/процессы
  - извлечение знаний 
  - представление знаний 
    - изучается дисциплинами: [когнитология](#ke), информатика, искусственный интеллект 
      - [когнитология (knowledge engineering)](#ke): как люди хранят и обрабатывают информацию
      - [информатика](./dev.md): подбор представлений конкретных и обобщённых знаний/сведений/фактов для накопления/обработки
      - [ии](./ds.md): хранить знания так, чтобы машины могли их обрабатывать аналогично человеку
  - передача знаний 
- дисциплины
  - [knowledge engineering / когнитология](#ke)
  - [knowledge management / менеджмент знаний](#km) 

<a name="ke"></a>
### Knowledge engineering
- что это 
  - наука о мышлении
  - раздел инженерии, направленный на внедрение знаний в компьютерные системы для решения сложных задач, обычно требующих богатого человеческого опыта (согласно (`wiki`))
  - как люди хранят и обрабатывают информацию
- синонимы
  - когнитология
  - инженерия знаний
  - knowledge engineering
- где используется
  - [knowledge management](#km)
  - сбор данных
  - построение [баз знаний](#kb)
  - разработка [экспертные системы](#expert)
  - системы поддержки принятия решений
  - ГИС
- на чём основана
  - [математическая логика](./math.md#logic)
- связанные дисциплины 
  - [разработка экспертных систкм](#expert)
- состоит из: предварительная и машинная обработка
  - предварительная обработка
    - 3 составляющих предварительной обработки
      - кодификация: извлечение и упорядочение
        - сбор разрозненных и противоречивых фрагментов и обрывков информации из различных источников (документов)
      - концептуализация (структурирование) 
      - формализация
        - перевод на специализированный язык (для последующего использования)
  - машинная обработка 
- 2 подхода к разработке
  - традиционные методологии разработки 
  - индивидуальные методологии экспертных систем
- методы сбора информации: пассивные, активные
  - пассивные 
    - наблюдение (за процессом или имитацией)
    - анализ протоколов мыслей вслух (демонстрация цепочки размышлений)
    - исследование научной информации 
  - активные
    - индивидуальные 
      - анкетирование
      - интервью
      - свободный диалог
    - коллективные 
      - круглый стол
      - мозговой штурм
      - экспертные игры 

<a name="km"></a>
### Knowledge management
- knowledge management / менеджмент знаний 
  - знания как актив 
    - самостоятельная ценность актива знаний
    - мультипликативный эффект по отношению к другим факторам производства, воздействуя на уровень эффективности их применения
    - рассматриваются как запас и как поток 
  - модели 
    - спираль знаний by Икуджиро Нонака
      - социализация (генерация в сообществах новых неявных знаний на основе существующих неявных знаний с помощью обучения) 
      - экстернализации (выявление неявных знаний и их фиксации в явной форме) 
      - комбинации (генерация новых явных знаний путем комбинирования известных явных знаний и выполнения над ними других операций) 
      - интернализации (обучение явным знаниям, их усвоение и формирование таким способом внутренних неявных знаний людей)
    - процессы (которые контролирует менеджмент знаний)
      - структуризация, кодификация и идентификация знаний
      - создание новых знаний
      - использование имеющихся знаний при принятии решений
      - воплощение знаний в продуктах и услугах
      - передача существующих знаний
      - поддержание целостности знаний, защита знаний
      - обеспечение доступа к необходимым знаниям процессам, системам и людям
    - обучающаяся организация
      - создает, приобретает, передает и сохраняет знания
      - люди постоянно учатся тому, как учиться вместе
      - управление из центра вверх и вниз 
        - средний менеджмент - проводник идей между оторванными топами и рутиной линейных сотрудников
  - стандарты
    - `doc` [ГОСТ Р 53894-2016: Менеджмент знаний. Термины и определения](https://docs.cntd.ru/document/1200140429)
  - проблемы
    - барьеры к внедрению часто выступает 
      - отсутствие организационной культуры, которая обеспечивала бы совместное использование знаний
      - недостаток у работников информации об этой технологии

<a name="kb"></a>
### Knowledge bases
- что это 
  - модели поведения экспертов в определённой области знаний (с использованием процедур логического вывода и принятия решений)
  - совокупность фактов и правил логического вывода в выбранной предметной области деятельности
  - база данных, содержащая правила вывода и информацию о человеческом опыте и знаниях в некоторой предметной области
  - в самообучающихся системах база знаний также содержит информацию, являющуюся результатом решения предыдущих задач
  - позволяет производить семантическую (осмысленную) обработку информации
- состоит из
  - [онтологии](#onto) 
  - база фактов - хранилище свойств конкретных объектов ([БД](#db))
  - правила вывода, позволяющие делать автоматические умозаключения (этим БЗ отличается от БД)
- частью чего является
  - [экспертные системы](#examples)
  - системы принятия решений 
- требования к хранимой информации
  - достоверность
  - релевантность
- методы (могут, но не обязаны быть у системы, оперирующей базами знаний)
  - [вывод](./datan.md#inference) (автоматическое доказательство) - способность выводить новые знания из старых, находить закономерности в БЗ
  - доказательство заключения - способность объяснить ход рассуждений для ответа
  - интроспекция - нахождение противоречий, нестыковок в БЗ, контроль правильной организации БЗ
  - [машинное обучение](./ds.md)
<a name="onto"></a>
- онтология
  - что это
    - формализация области знаний с помощью концептуальной схемы (семантической сети)
    - система взаимосвязанных понятий, необходимая и достаточная для описания требуемого аспекта объекта
  - элементы онтологий
    - эеземпляры (instances, individuals)
    - понятия (concepts, classes, terms)
    - атрибуты (attributes, properties)
    - отношения (relations, edges)
  - описание онтологий
    - RDF (Resource Description Framework) - абстрактная модель представления данных онтологии (недо-язык)
      - утверждение о ресурсе кодируется триплетом (субъект-предикат-объект)
      - множество RDF-утверждений образует [ориентированный граф](./math.md) ([семантическую сеть](#semantic))
      - [стандарт W3C](https://www.w3.org/2007/03/rdf_concepts_ru/)
      - языки запросов к RDF-данным: SPARQL (стандарт W3C), RQL, RDQL
      - RDF-хранилища: OpenLink Virtuoso, Stardog, Blazegraph (ранее Bigdata), GraphDB (ранее OWLIM), RDF4J (ранее Sesame), Apache Jena, Allegrograph, 4Store
      - реализации RDF: [N-triplets](https://www.w3.org/TR/n-triples/) ([wiki](https://ru.wikipedia.org/wiki/N-Triples)), [N3](https://www.w3.org/TeamSubmission/2008/SUBM-n3-20080114/) ([wiki](https://ru.wikipedia.org/wiki/Нотация_3)), [Turtle](https://www.w3.org/TeamSubmission/turtle/) ([wiki](https://ru.wikipedia.org/wiki/Turtle)), [RDF JSON](https://web.archive.org/web/20081218043909/http://n2.talis.com/wiki/RDF_JSON_Specification), 
      - Python [RDFlib](https://rdflib.dev/): [github](https://github.com/RDFLib/rdflib), [doc](https://rdflib.readthedocs.io/), [wiki](https://en.wikipedia.org/wiki/RDFLib)
    - языки описания онтология ([wiki](https://en.wikipedia.org/wiki/Ontology_(information_science)#Languages))
      - OWL (Web Ontology Language) - стандарт W3C для семантических утверждений, расширение RDF и RDFS 
      - KIF (Knowledge Interchange Format) - основанный на S-выражениях синтаксис для логики
      - CL (Common Logic) - преемник KIF
      - CycL (используется в проекте Cyc) - исчисление предикатов с некоторыми расширениями
      - DAML+OIL (FIPA)
    - технологии для работы с онтологиями
      - редакторы онтологий (для создания онтологий)
      - СУБД онтологий (для хранения и обращения к онтологии)
      - хранилища онтологий (для работы с несколькими онтологиями)
    - `wiki` [Onthology engineering](https://en.wikipedia.org/wiki/Ontology_engineering)
<a name="semantic"></a>
- семантическая сеть 
  - что это 
    - информационная модель предметной области
    - представление концептуальной схемы онтологии
    - имеет вид [ориентированного графа](./math.md#graph)
      - вершины - понятия [базы знаний](#kb): понятия, события, свойства, процессы
      - дуги (направленные рёбра)
  - семантические отношения (виды рёбер графа)
    - иерархические
      - AKO (a kind of) - гипотемия: гипоним vs гипероним
      - HP (has part) - меронимия: мероним vs холоним
      - ISA (is a) - реализация (инстанцирование): объект реализует класс
    - синонимы/антонимы (такие связи могут не дублировать в самом графе, а вычисляться алгоритмически)
    - вспомогательные
      - функциональные (производит, влияет)
      - количественные (больше, меньше, равно)
      - пространственные (далеко от, близко от, за, под, над)
      - временные (раньше, позже, в течение)
      - атрибутивные (иметь свойство, иметь значение)
      - логические (И, ИЛИ, НЕ)
      - лингвистические
  - применения
    - семантизация - выделение семантических отношений в тексте без изменения его содержания
    - семантический веб
    - семантическая вики ([wiki](https://ru.wikipedia.org/wiki/Семантическая_вики))
    - семантический рабочий стол
    - [базы знаний](#kb)
  - связанные понятия
    - фрейм - схема действий в реальной ситуации
      - виды фреймов: образцы, экземпляры, структуры, роли, сценарии, ситуации
      - система связанных фреймов образует [семантическую сеть](#semantic)
      - слоты - переменные параметры фрейма
      - презумпция - значения слотов фрейма по умолчанию
      - протофрейм - незаполненный фрейм, экзофрейм - заполненный
- литература
  - `post` [Юрий Катков @ Habr: Базы знаний](https://habr.com/ru/post/195650/)

<a name="expert"></a>
### Expert systems
- составляющие: [база знаний](#kb), машина вывода, интерфейс/прмменялка 
  - [база знаний/фактов](#kb)
  - машина вывода - осуществляет [логический](./math.md#logic) [вывод](./datan.md#inference)
    - выполняет логический вывод из предварительно построенной базы фактов и правил в соответствии с законами формальной логики
    - выполняет одну или обе из 2 операций
      - проверка истинности некоторого факта
      - нахождение множества значений параметра некоторого правила, при котором данное правило превращается в истинный факт
    - использует 
      - [базу фактов](#kb) (для построения базы фактов и правил применяются формальные языки)
      - механизм вывода
  - интерфейс вывода или средства применения решений
- режимы
  - режим ввода знаний
  - режим консультации
- классификации
  - по решаемой задаче
    - интерпретация данных
    - прогнозирование
    - мониторинг 
    - диагностирование
    - управление 
    - оптимизация
  - по связи с реальным временем
    - статические 
    - квазидинамические
    - динамические
- примеры
  - CLIPS - оболочка для построения ЭС (public domain)
  - OpenCyc (Сайк - от encyclopedia) - онтологическая модель знаний
  - Wolfram Alpha - вопросно-ответная система
  - MYCIN (1970)
  - IBM Watson

<a name="dss"></a>
### Decision Support System
- синонимы
  - СППР: система поддержки принятия решений
  - DSS: decision support system
- назначение
  - помощь людям, принимающим решение в сложных условиях для полного и объективного анализа предметной деятельности
  - выдаёт информацию (визуально или звуком) помогающую людям быстро и точно оценить ситуацию и принять решение
- на чём основаны
  - [теория принятия решений](#decision)
  - [оптимизация](./math.md#opt)
  - [экспертные системы](#expert)
  - [базы знаний](#kb)
- методы
  - информационный поиск, поиск знаний в [базах данных](#db)
  - data mining (интеллектуальный [анализ данных](./datan.md))
  - рассуждение на основе прецедентов
  - имитационное моделирование
  - эволюционные вычисления и генетические алгоритмы
  - [нейронные сети](./ds.md#nn)
  - ситуационный анализ
  - когнитивное моделирование
- близкие классы систем
  - [экспертные системы](#expert)
  - АСУ: автоматизированные системы управления

<a name="or"></a>
### Исследование операций
- синонимы
  - operations research
  - management science
  - decision science
- что это 
  - применение [математических](./math.md), [количественных](./datan.md) методов для обоснования [решений](#decision)
  - начинается, когда для обоснования решений применяется тот или другой математический аппарат
- термины
  - операция 
    - мероприятие (система действий), объединённое единым замыслом и направленное к достижению какой-то цели (напр., мероприятия 8 задач ниже)
    - всегда является управляемым мероприятием, зависит от выбора человеком параметров её организации
  - решение (удачное, неудачное, разумное, неразумное) - набор зависящих от человека параметров
    - оптимальное решение - по тем или другим признакам предпочтительнее других
  - цель исследования операций - количественное обоснование оптимальных решений с опорой на показатель эффективности
    - само принятие решения выходит за рамки исследования операций и относится к компетенции ответственного лица
  - элементы решения - параметры, совокупность которых образует решение: числа, векторы, функции, физические признаки 
    - их совокупность формирует множество возможных решений
- на чём основано
  - [системный анализ](./sban.md)
  - [математическое программирование (оптимизация)](./math.md#opt)
  - [теория графов](./math.md#graph)
  - [теория игр](./math.md#game)
  - (мета)эвристические подходы
  - [искусственный интеллект](./ds.md#ai) (теория удовлетворения ограничений, [нейронные сети](./ds.md#nn))
- где применяется
  - операционная аналитика (`book` [Билл Фрэнкс - The Analytics Revolution: How to Improve Your Business By Making Analytics Operational In The Big Data Era (2016)](http://www.ozon.ru/context/detail/id/34973518/))
  - контроллинг (управление рисками, информационное снабжение, kpi-мониторинги, планирование, менеджмент качества)
  - [логистика](./ds.md#logistics)
  - [маркетинг](./datan.md#mark)
  - экономика
  - международная торговля
  - военное дело
  - климат
- примеры задач 
  - практические
    - план снабжения предприятий 
    - постройка участка магистрали 
    - продажа сезонных товаров 
    - снегозащита дорог 
    - противолодочный рейд 
    - выборочный контроль продукции 
    - медицинское обследование 
    - библиотечное обслуживание
  - [математические](./math.md#discrete) ([комбинаторика](./math.md#comb))
    - задача о рюкзаке
    - задача коммивояжёра
    - транспортная задача
    - задача об упаковке в контейнеры
    - расписания и диспетчеризация
      - диспетчеризации (Open-shop scheduling)
      - планирование поточной линии (Flow Shop Scheduling Problem)
      - теория расписаний (Job Shop Scheduling)

<a name="decision"></a>
### Теория принятия решений
- применения
  - [системы поддержки принятия решений](#dss)
- основания
  - [оптимизация](./math.md#opt)
  - [теория вероятностей](./math.md#stat) и/или альтернативы
    - нечёткая логика
    - теория возможностей
    - теория очевидностей Демпстера-Шафера
    - [теория вероятностей](./math.md#stat)
      - все допустимые решающие правила эквивалентны байесовскому решающему правилу с некоторым априорным распределением и некоторой функции полезности
- разновидности
  - нормативная: рациональный процесс принятия решения
  - дескриптивная: описывает практику принятия решений
- элементы рационального процесса (одновременно, параллельно, итеративно)
  - ситуационный анализ (анализ проблемной ситуации)
  - идентификация проблемы, постановка цели
  - поиск информации
  - формирование множества возможных решений
  - формирование критериев оценки решений, индикаторов/критериев мониторинга реализации
  - [проведение оценки решений, выбор наилучшего решения](./math.md#opt)
  - планирование, реализация
  - мониторинг реализации, оценка результата
- ошибки первого/второго рода
  - первая - упущенная выгода
  - вторая - прямые потери
